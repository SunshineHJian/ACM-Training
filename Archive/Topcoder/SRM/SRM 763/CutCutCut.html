<html><body bgcolor="#000000" text="#ffffff"><table><tr><td colspan="2"><h3>Problem Statement</h3></td></tr><tr><td>&#160;&#160;&#160;&#160;</td><td><p>
You have a square plate.
Its dimensions are 10000 x 10000.
The bottom left corner has coordinates (0, 0), the bottom right is (10000, 0), and the top right is (10000, 10000).
</p>
<p>
You are going to make <b>Q</b> cuts, one after another.
For each cut you are given two points (<b>X1</b>[i], <b>Y1</b>[i]) and (<b>X2</b>[i], <b>Y2</b>[i]) on different sides of the square.
You should cut the square along the straight line segment that connects those two points.
The cuts are in a general position (see Constraints).
</p>
<p>
After each query, determine the current number of pieces into which the square is divided at that moment.
Return a vector &lt;int&gt; with <b>Q</b> elements: those numbers of pieces.
</p></td></tr><tr><td colspan="2"><h3>Definition</h3></td></tr><tr><td>&#160;&#160;&#160;&#160;</td><td><table><tr><td>Class:</td><td>CutCutCut</td></tr><tr><td>Method:</td><td>findPieces</td></tr><tr><td>Parameters:</td><td>vector &lt;int&gt;, vector &lt;int&gt;, vector &lt;int&gt;, vector &lt;int&gt;, int</td></tr><tr><td>Returns:</td><td>vector &lt;int&gt;</td></tr><tr><td>Method signature:</td><td>vector &lt;int&gt; findPieces(vector &lt;int&gt; X1, vector &lt;int&gt; Y1, vector &lt;int&gt; X2, vector &lt;int&gt; Y2, int Q)</td></tr><tr><td colspan="2">(be sure your method is public)</td></tr></table></td></tr><tr><td colspan="2"><h3>Limits</h3></td></tr><tr><td>&#160;&#160;&#160;&#160;</td><td><table><tr><td>Time limit (s):</td><td>2.000</td></tr><tr><td>Memory limit (MB):</td><td>256</td></tr></table></td></tr><tr><td colspan="2"><h3>Constraints</h3></td></tr><tr><td align="center" valign="top">-</td><td><b>Q</b> will be between 1 and 500, inclusive.</td></tr><tr><td align="center" valign="top">-</td><td>Each of <b>X1</b>, <b>Y1</b>, <b>X2</b> and <b>Y2</b> will have exactly <b>Q</b> elements.</td></tr><tr><td align="center" valign="top">-</td><td>All the given segment endpoints will be distinct.</td></tr><tr><td align="center" valign="top">-</td><td>All the given segment endpoints will be on the boundary of the square.</td></tr><tr><td align="center" valign="top">-</td><td>None of the given segment endpoints will be in the corners of the square.</td></tr><tr><td align="center" valign="top">-</td><td>For each segment, its endpoints will lie on different sides of the square.</td></tr><tr><td align="center" valign="top">-</td><td>No three cuts will intersect at the same point.</td></tr><tr><td colspan="2"><h3>Examples</h3></td></tr><tr><td align="center" nowrap="true">0)</td><td></td></tr><tr><td>&#160;&#160;&#160;&#160;</td><td><table><tr><td><table><tr><td><pre>{1, 2, 3}</pre></td></tr><tr><td><pre>{0, 0, 0}</pre></td></tr><tr><td><pre>{1, 2, 3}</pre></td></tr><tr><td><pre>{10000, 10000, 10000}</pre></td></tr><tr><td><pre>3</pre></td></tr></table></td></tr><tr><td><pre>Returns: {2, 3, 4 }</pre></td></tr><tr><td><table><tr><td colspan="2">Here we first cut the plate along the segment joining (1,0) and (1,10000), so we have 2 pieces now, next we cut along segment joing (2,0) and (2,10000)(cutting the right piece from pervious), so we have 3 pieces now, similarly after the 4th cut we have 4 pieces.</td></tr></table></td></tr></table></td></tr><tr><td align="center" nowrap="true">1)</td><td></td></tr><tr><td>&#160;&#160;&#160;&#160;</td><td><table><tr><td><table><tr><td><pre>{0, 5000}</pre></td></tr><tr><td><pre>{5000, 10000}</pre></td></tr><tr><td><pre>{10000, 5000}</pre></td></tr><tr><td><pre>{5000, 0}</pre></td></tr><tr><td><pre>2</pre></td></tr></table></td></tr><tr><td><pre>Returns: {2, 4 }</pre></td></tr><tr><td><table><tr><td colspan="2">Here we first cut the plate along the segment joining (0,5000) and (10000,5000), getting 2 pieces(equal pieces), then when we cut along segment joining (5000,1000) and (5000,0) we get 4 pieces(cutting previous 2 pieces again in equal parts).</td></tr></table></td></tr></table></td></tr><tr><td align="center" nowrap="true">2)</td><td></td></tr><tr><td>&#160;&#160;&#160;&#160;</td><td><table><tr><td><table><tr><td><pre>{1,0,3,9997}</pre></td></tr><tr><td><pre>{0,1,0,10000}</pre></td></tr><tr><td><pre>{1,10000,0,10000}</pre></td></tr><tr><td><pre>{10000,1,3,9997}</pre></td></tr><tr><td><pre>4</pre></td></tr></table></td></tr><tr><td><pre>Returns: {2, 4, 7, 8 }</pre></td></tr><tr><td><table><tr><td colspan="2"></td></tr></table></td></tr></table></td></tr></table><p>This problem statement is the exclusive and proprietary property of TopCoder, Inc.  Any unauthorized use or reproduction of this information without the prior written consent of TopCoder, Inc. is strictly prohibited.  (c)2003, TopCoder, Inc.  All rights reserved.  </p></body></html>
