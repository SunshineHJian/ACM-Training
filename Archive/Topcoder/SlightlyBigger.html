<html><body bgcolor="#000000" text="#ffffff"><table><tr><td colspan="2"><h3>Problem Statement</h3></td></tr><tr><td>&#160;&#160;&#160;&#160;</td><td><p>
Yvonne and Zara are playing a game again.
In this game their simultaneously choose a positive integer.
(The chosen numbers can be arbitrarily large.)
The goal of the game is to choose a number that is slightly larger than your opponent's number.
More precisely:
</p>
<ul>
<li>If the numbers are equal, the game is a draw and there is no payment.</li>
<li>If the bigger number minus the smaller number is at most <b>maxDiff</b>, the person with the bigger number wins and gets <b>ifNear</b> dollars from the loser.</li>
<li>If the difference is larger, the person with the bigger number loses and pays <b>ifFar</b> dollars to the winner. The <b>ifFar</b> payoff is at least as big as the <b>ifNear</b> payoff.</li>
</ul>
<p>
You are given the values mentioned above and an int <b>query</b>.
Consider the optimal strategy for the above game.
If there are multiple strategies, pick the lexicographically largest one. (I.e., one that maximizes the probability of choosing 1, then the probability of choosing 2, and so on.)
Return the probability with which Yvonne should choose the integer <b>query</b>.
</p></td></tr><tr><td colspan="2"><h3>Definition</h3></td></tr><tr><td>&#160;&#160;&#160;&#160;</td><td><table><tr><td>Class:</td><td>SlightlyBigger</td></tr><tr><td>Method:</td><td>getProbability</td></tr><tr><td>Parameters:</td><td>int, int, int, int</td></tr><tr><td>Returns:</td><td>double</td></tr><tr><td>Method signature:</td><td>double getProbability(int maxDiff, int ifNear, int ifFar, int query)</td></tr><tr><td colspan="2">(be sure your method is public)</td></tr></table></td></tr><tr><td colspan="2"><h3>Limits</h3></td></tr><tr><td>&#160;&#160;&#160;&#160;</td><td><table><tr><td>Time limit (s):</td><td>2.000</td></tr><tr><td>Memory limit (MB):</td><td>256</td></tr></table></td></tr><tr><td colspan="2"><h3>Notes</h3></td></tr><tr><td align="center" valign="top">-</td><td>Your return value will be accepted if it has an absolute or a relative error at most 1e-9.</td></tr><tr><td align="center" valign="top">-</td><td>The constraint "<b>ifFar</b> &lt;= 2*<b>ifNear</b>" has no significance in terms of the solution idea, it was just added to (hopefully) avoid precision issues with numbers getting too close to zero.</td></tr><tr><td colspan="2"><h3>Constraints</h3></td></tr><tr><td align="center" valign="top">-</td><td><b>maxDiff</b> will be between 1 and 25, inclusive.</td></tr><tr><td align="center" valign="top">-</td><td><b>ifNear</b> will be between 1 and 50, inclusive.</td></tr><tr><td align="center" valign="top">-</td><td><b>ifFar</b> will be between <b>ifNear</b> and 2*<b>ifNear</b>, inclusive.</td></tr><tr><td align="center" valign="top">-</td><td><b>query</b> will be between 1 and 1000, inclusive.</td></tr><tr><td colspan="2"><h3>Examples</h3></td></tr><tr><td align="center" nowrap="true">0)</td><td></td></tr><tr><td>&#160;&#160;&#160;&#160;</td><td><table><tr><td><table><tr><td><pre>1</pre></td></tr><tr><td><pre>1</pre></td></tr><tr><td><pre>1</pre></td></tr><tr><td><pre>1</pre></td></tr></table></td></tr><tr><td><pre>Returns: 0.3333333333333334</pre></td></tr><tr><td><table><tr><td colspan="2"><p>If your number is exactly one bigger than your opponent's, you win $1. If your number is bigger than that, you lose $1.</p>

<p>In this setting, Yvonne should choose the integer 1 with probability 1/3.</p></td></tr></table></td></tr></table></td></tr><tr><td align="center" nowrap="true">1)</td><td></td></tr><tr><td>&#160;&#160;&#160;&#160;</td><td><table><tr><td><table><tr><td><pre>1</pre></td></tr><tr><td><pre>1</pre></td></tr><tr><td><pre>1</pre></td></tr><tr><td><pre>470</pre></td></tr></table></td></tr><tr><td><pre>Returns: 0.0</pre></td></tr><tr><td><table><tr><td colspan="2">In the same setting as before, the probability with which Yvonne should choose the integer 470 is either zero or negligibly small.</td></tr></table></td></tr></table></td></tr><tr><td align="center" nowrap="true">2)</td><td></td></tr><tr><td>&#160;&#160;&#160;&#160;</td><td><table><tr><td><table><tr><td><pre>1</pre></td></tr><tr><td><pre>1</pre></td></tr><tr><td><pre>2</pre></td></tr><tr><td><pre>1</pre></td></tr></table></td></tr><tr><td><pre>Returns: 0.25</pre></td></tr><tr><td><table><tr><td colspan="2">In the new setting you pay $2 if you exceed your opponent's number by more than 1 (and, symmetrically, you get paid $2 when your opponent's number exceeds yours by two or more).
Perhaps surprisingly, in the new setting the optimal probability for the choice of the smallest possible integer is lower than before.</td></tr></table></td></tr></table></td></tr><tr><td align="center" nowrap="true">3)</td><td></td></tr><tr><td>&#160;&#160;&#160;&#160;</td><td><table><tr><td><table><tr><td><pre>3</pre></td></tr><tr><td><pre>4</pre></td></tr><tr><td><pre>7</pre></td></tr><tr><td><pre>3</pre></td></tr></table></td></tr><tr><td><pre>Returns: 0.08005718370264478</pre></td></tr><tr><td><table><tr><td colspan="2"></td></tr></table></td></tr></table></td></tr></table><p>This problem statement is the exclusive and proprietary property of TopCoder, Inc.  Any unauthorized use or reproduction of this information without the prior written consent of TopCoder, Inc. is strictly prohibited.  (c)2003, TopCoder, Inc.  All rights reserved.  </p></body></html>
